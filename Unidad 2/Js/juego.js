const matrix = [
	[1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
	[1, 0, 1, 1, 1, 2, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1],
	[1, 0, 0, 0, 1, 2, 1, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1],
	[1, 0, 1, 0, 1, 2, 1, 1, 0, 0, 0, 0, 0, 1, 2, 0, 1, 2, 1, 0, 1, 0, 1, 0, 1, 0, 1, 2, 0, 1],
	[1, 1, 0, 0, 1, 2, 1, 0, 0, 1, 0, 1, 0, 1, 2, 2, 2, 2, 1, 0, 0, 0, 0, 0, 0, 0, 1, 2, 1, 1],
	[1, 1, 1, 0, 0, 2, 0, 1, 0, 1, 0, 1, 0, 1, 2, 1, 1, 0, 1, 1, 1, 1, 0, 1, 0, 1, 0, 2, 0, 1],
	[1, 0, 0, 0, 1, 2, 1, 0, 0, 0, 0, 0, 0, 1, 2, 2, 2, 2, 2, 2, 1, 0, 0, 0, 0, 0, 1, 2, 1, 1],
	[1, 1, 0, 1, 1, 2, 1, 1, 0, 1, 0, 1, 0, 1, 2, 1, 2, 1, 1, 2, 0, 1, 0, 1, 1, 0, 1, 2, 0, 1],
	[1, 0, 0, 1, 0, 2, 1, 0, 0, 1, 0, 1, 0, 1, 2, 2, 2, 0, 1, 2, 1, 1, 0, 0, 0, 0, 1, 2, 1, 1],
	[1, 0, 1, 1, 1, 2, 1, 1, 0, 1, 0, 1, 1, 1, 2, 1, 2, 1, 1, 2, 0, 0, 0, 1, 1, 1, 0, 2, 0, 1],
	[1, 0, 0, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 2, 1, 1, 1, 1, 0, 0, 1, 2, 1, 1],
	[1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 2, 0, 1, 2, 2, 2, 2, 1, 1, 0, 1, 2, 0, 1],
	[1, 1, 0, 0, 1, 2, 2, 2, 2, 2, 2, 2, 2, 1, 0, 1, 2, 1, 1, 1, 1, 1, 2, 1, 0, 0, 1, 2, 1, 1],
	[1, 0, 0, 1, 0, 2, 1, 0, 1, 0, 1, 1, 2, 1, 1, 1, 2, 1, 0, 0, 0, 1, 2, 0, 1, 0, 1, 2, 0, 1],
	[1, 1, 0, 1, 1, 2, 1, 0, 1, 0, 0, 1, 2, 2, 2, 2, 2, 1, 0, 1, 1, 1, 2, 1, 1, 0, 1, 2, 1, 1],
	[1, 1, 0, 1, 0, 2, 1, 0, 1, 0, 1, 1, 2, 1, 0, 1, 2, 1, 0, 0, 0, 1, 2, 0, 0, 0, 1, 2, 0, 1],
	[1, 0, 0, 1, 1, 2, 1, 0, 0, 0, 0, 1, 2, 1, 0, 1, 2, 1, 0, 1, 1, 1, 2, 1, 1, 0, 1, 2, 1, 1],
	[1, 0, 1, 1, 0, 2, 1, 0, 1, 0, 1, 1, 2, 1, 0, 1, 2, 0, 0, 0, 0, 1, 2, 1, 1, 0, 1, 2, 1, 1],
	[1, 1, 1, 0, 1, 2, 1, 0, 0, 0, 0, 1, 2, 1, 0, 1, 2, 1, 1, 1, 0, 1, 2, 0, 1, 0, 1, 2, 0, 1],
	[1, 0, 0, 0, 1, 2, 1, 0, 1, 0, 1, 1, 2, 1, 1, 1, 2, 1, 1, 1, 1, 1, 2, 1, 0, 1, 0, 2, 1, 1],
	[1, 1, 1, 0, 1, 2, 1, 0, 0, 0, 0, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1],
	[1, 1, 0, 0, 1, 2, 1, 1, 1, 1, 1, 1, 0, 1, 2, 1, 1, 1, 1, 0, 1, 2, 1, 1, 1, 1, 2, 1, 1, 1],
	[1, 1, 0, 1, 0, 2, 2, 2, 2, 2, 2, 2, 1, 1, 2, 1, 0, 0, 0, 0, 1, 2, 1, 0, 0, 0, 2, 0, 0, 1],
	[1, 0, 0, 0, 1, 2, 1, 2, 1, 2, 1, 2, 1, 1, 2, 1, 1, 1, 1, 0, 1, 2, 1, 1, 1, 1, 2, 1, 1, 1],
	[1, 0, 1, 1, 0, 2, 1, 2, 1, 2, 1, 2, 2, 2, 2, 2, 2, 2, 1, 0, 1, 2, 2, 2, 2, 2, 2, 2, 1, 1],
	[1, 0, 0, 0, 1, 2, 2, 2, 2, 2, 1, 0, 1, 1, 0, 1, 1, 2, 2, 1, 2, 2, 1, 1, 1, 1, 1, 2, 0, 1],
	[1, 1, 0, 1, 1, 2, 1, 2, 1, 2, 1, 1, 1, 1, 0, 1, 0, 1, 2, 2, 2, 1, 0, 0, 0, 1, 2, 2, 1, 1],
	[1, 1, 0, 1, 0, 2, 1, 2, 1, 2, 2, 2, 2, 1, 1, 1, 0, 1, 1, 1, 1, 0, 1, 0, 1, 0, 2, 1, 1, 1],
	[1, 1, 0, 1, 1, 2, 2, 2, 1, 1, 1, 1, 2, 1, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 2, 2, 1],
	[1, 2, 2, 2, 2, 2, 1, 2, 2, 1, 0, 0, 2, 2, 2, 1, 2, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1],
	[1, 2, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 2, 1, 2, 2, 2, 1, 0, 2, 2, 2, 2, 2, 2, 2, 2, 1],
	[1, 2, 0, 1, 0, 1, 1, 1, 2, 2, 2, 2, 2, 1, 2, 1, 1, 1, 2, 1, 1, 2, 1, 1, 1, 2, 1, 2, 1, 1],
	[1, 2, 1, 0, 0, 0, 1, 2, 2, 1, 2, 1, 2, 1, 2, 0, 1, 1, 2, 0, 1, 2, 1, 0, 1, 2, 2, 2, 1, 1],
	[1, 2, 1, 1, 0, 1, 1, 2, 1, 0, 2, 1, 2, 2, 2, 1, 1, 1, 2, 1, 1, 2, 1, 0, 1, 2, 1, 2, 0, 1],
	[1, 2, 1, 0, 0, 0, 0, 2, 0, 1, 2, 1, 0, 1, 0, 1, 2, 2, 2, 1, 0, 2, 2, 2, 1, 2, 1, 2, 1, 1],
	[1, 2, 1, 1, 0, 1, 1, 2, 1, 1, 2, 1, 1, 1, 1, 1, 2, 1, 0, 1, 0, 1, 1, 2, 2, 2, 2, 2, 1, 1],
	[1, 2, 0, 1, 0, 0, 1, 2, 2, 2, 2, 0, 0, 0, 0, 1, 2, 1, 1, 1, 1, 1, 1, 2, 1, 2, 1, 2, 0, 1],
	[1, 2, 1, 0, 0, 1, 1, 1, 1, 1, 2, 1, 1, 1, 0, 1, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 1, 2, 1, 1],
	[1, 2, 0, 1, 0, 0, 0, 0, 1, 1, 2, 2, 2, 1, 0, 0, 1, 1, 2, 1, 2, 1, 1, 1, 1, 2, 2, 2, 1, 1],
	[1, 2, 1, 1, 0, 1, 1, 1, 1, 0, 1, 1, 2, 1, 0, 1, 2, 2, 2, 2, 2, 1, 0, 0, 0, 2, 1, 0, 1, 1],
	[1, 2, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 1, 0, 1, 2, 1, 1, 1, 2, 1, 0, 1, 1, 2, 1, 0, 0, 1],
	[1, 2, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 2, 1, 0, 1, 2, 1, 0, 1, 2, 1, 0, 0, 1, 2, 1, 0, 1, 1],
	[1, 2, 1, 0, 0, 1, 0, 0, 0, 1, 2, 2, 2, 1, 0, 1, 2, 1, 0, 0, 2, 1, 1, 1, 1, 2, 1, 0, 0, 1],
	[1, 2, 1, 0, 1, 1, 0, 1, 1, 1, 2, 1, 2, 0, 1, 0, 2, 1, 0, 1, 2, 1, 2, 2, 2, 2, 1, 0, 1, 1],
	[1, 2, 1, 0, 1, 1, 0, 0, 0, 1, 2, 1, 2, 1, 1, 2, 2, 1, 0, 1, 2, 2, 2, 1, 1, 2, 1, 0, 1, 1],
	[1, 2, 1, 0, 0, 0, 0, 1, 1, 1, 2, 2, 2, 1, 2, 2, 1, 1, 0, 1, 1, 1, 1, 0, 1, 2, 1, 1, 1, 1],
	[1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 2, 2, 1, 0, 1, 0, 0, 0, 0, 0, 0, 1, 2, 2, 2, 2, 1],
	[1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 1, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 2, 1],
	[1, 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 2, 2, 2, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 1],
	[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1]
];
var map = [];
var canvas = document.getElementById("canvas");
var context = canvas.getContext('2d');
var player = null,pX = 100, pY=0,wallX=0,wallY=0,standing=null,walking = null, wallImg=null,grassImg=null;
//Init player img
/*standing = new Image();
walking = new Image();
standing.src = "assets/laberinto/stand.gif";
walking.src = "assets/laberinto/walk.gif";
player = new Chunk(standing,100,100,40,56,false);*/

function Chunk(img,x,y,w,h,isWall){
    this.img = img;
    this.x = x;
    this.y = y;
    this.w = w;
    this.h = h;
    this.isWall = isWall;

    this.render = function(context){
        if(this.img!=null)
            context.drawImage(this.img,this.x,this.y,this.w,this.h);
        else
            context.fillRect(this.x, this.y, this.w, this.h);
    }

    this.collide = function(chunk){
        return (this.isWall)? (this.x < chunk.x + chunk.w &&
			this.x + this.w > chunk.x &&
			this.y < chunk.y + chunk.h &&
			this.y + this.h > chunk.y):false;
    }
}
/*function Player(img,x,y,w,h,moving){
	this.img = img;
    this.x = x;
    this.y = y;
    this.w = w;
    this.h = h;
	this.render = function(context){
        if(this.img!=null)
            context.drawImage(this.img,this.x,this.y,this.w,this.h);
        else
            context.fillRect(this.x, this.y, this.w, this.h);
    }

    this.collide = function(chunk){
        return (this.isWall)? (this.x < chunk.x + chunk.w &&
			this.x + this.w > chunk.x &&
			this.y < chunk.y + chunk.h &&
			this.y + this.h > chunk.y):false;
    }
}*/
window.requestAnimationFrame = (function() {
	return window.requestAnimationFrame||
	window.mozRequestAnimationFrame||
	window.webkitRequestAnimationFrame ||
	function(callback) {
			window.setTimeout(callback, 17);
		};
}());
function run() {
	window.requestAnimationFrame(run);
	test(context);
}
function draw(context){
    renderMap(context);
}
function renderPlayer(context,player){
    player.render(context);
}
function move(player){
	/*window.addEventListener("keypress",function(e){
		if(e.key == 'w'||e.key == 'W')
			return null;
	});*/
	
}
function checkPath(player,map){
    for (let i = 0; i < 50; i++) 
		for (let j = 0; j < 30; j++)
			return player.collide(map[i][j]); 
}
function renderMap(context){

}
function fillMap(){
	let offsetX=19,offsetY=19;
    for (let i = 0; i < 50; i++) {
        for (let j = 0; j < 30; j++) {
        }
        
    }
}
function test(context){
	//player.render(context);
}
window.addEventListener("keypress",function(e){
	if(e.key == 'w'||e.key == 'W')

});


